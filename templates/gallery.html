{% load staticfiles %}

{% if image_index is not none %}
	<span class="image-index">{{image_index}}</span>
{% endif %}

<div id="flex-container" class="flex-4">

	{% for entry in file_entries %}
	<figure class="gallery-image" id="g-i-{{entry.index}}" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">

		<div class="selection-boundary">
		    <a href="{{ entry.uri | urlencode }}" itemprop="contentUrl" data-size="{{entry.size}}">
		        <img src="{{ entry.uri | urlencode }}?thumbnail=1" itemprop="thumbnail" alt="{{entry.name}}" />
		    </a>

		    <figcaption itemprop="caption description">{{entry.name}}</figcaption>
		</div>
	</figure>
	{% endfor %}

	{% for entry in dir_entries %}
	<figure class="gallery-folder" id="g-f-{{entry.index}}" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
		<div class="selection-boundary">
		    <a href="{{ entry.uri | urlencode }}" itemprop="contentUrl" data-size="{{entry.size}}">
		        <img src="{% static 'images/folder.png' %}" itemprop="thumbnail" alt="{{entry.name}}" />
		    </a>

		    <figcaption itemprop="caption description">{{entry.name}}</figcaption>
		</div>
	</figure>
	{% endfor %}

</div>

